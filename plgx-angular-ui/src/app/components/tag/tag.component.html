

<div class="kt-grid kt-grid--hor kt-grid--root">
  <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--ver kt-page">
    <div class="kt-grid__item kt-grid__item--fluid kt-grid kt-grid--hor kt-wrapper" id="kt_wrapper">
      <!-- begin:: Portlet/Tag -->
      <div class="kt-portlet kt-portlet--mobile kt-portlet--responsive-mobile" style="margin-bottom:0px;">
        <div class="kt-portlet__head kt-portlet__head--lg">
          <div class="kt-portlet__head-label">
            <span class="kt-portlet__head-icon">
              <i class="kt-font-brand fa fa-tags"></i>
            </span>
            <h3 class="kt-portlet__head-title">
              Tags
            </h3>
          </div>
          <div class="kt-portlet__head-toolbar">
            <div class="kt-portlet__head-wrapper">
              <div class="">
                <button type="button" class="btn btn-outline-success btn-icon-sm" data-toggle="modal" data-target="#add_tags" aria-haspopup="true" aria-expanded="false">
                  <i class="fa fa-plus-square"></i>
                  Add Tag
                </button>
                <!--Begin:: Modal-->
                <div class="modal fade" id="add_tags" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" style="display: none; position: fixed; background-color: hsla(0, 0%, 0%, 0.45)">
                  <form id="kt_form" [formGroup]="addTag" >
                    <div class="modal-dialog modal-lg" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h3 class="">Add Tag</h3>
                          <button type="button" class="close" data-dismiss="modal" (click)="clearInput()" aria-label="Close"></button>
                        </div>
                        <div class="modal-body kt-scroll" data-scroll="true" data-height="" data-scrollbar-shown="true">
                        <!--begin::Portlet-->
                          <div class="row">
                            <div class="col-xl-1"></div>
                            <div class="col-xl-10">
                              <div class="kt-section kt-section--first">
                                <div class="kt-section__body">
                                  <div class="form-group row">
                                    <label class="col-3 col-form-label" for="value">Tag</label>
                                    <div class="col-9">
                                      <textarea [(ngModel)]="clearValue" class="form-control" formControlName="tags" name="value" placeholder="Enter tags here, one tag per line" spellcheck="false"></textarea>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="col-xl-1"></div>
                          </div>
                        <!--end::Portlet-->
                        </div>
                        <div class="modal-footer align-center">
                          <!-- <button type="reset" class="btn btn-outline-secondary">Clear</button> -->
                          <button type="button" class="btn btn-outline-secondary" data-dismiss="modal">Cancel</button>
                          <button type="submit" (click)="onSubmit()" data-dismiss="modal" class="btn btn-success">Add</button>
             
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
                <!--End:: Modal-->
              </div>
            </div>
          </div>
        </div>
        <div class="kt-portlet__body">
          <div class="" style="margin-bottom: 60px;" >
            <!--begin: Datatable -->
            <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="table table-hover table-checkable table-bordered"  >
              <!-- class="table table-hover table-checkable row-border hover" -->
              <thead>
                <tr>
                  <th>Tags</th>
                  <th>Hosts</th>
                  <th>Packs</th>
                  <th>Queries</th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody *ngIf="tags_data!=0">
                <tr *ngFor="let tag of tags_data">
                  <td >
                    <span class="label" data-skin="dark" data-toggle="kt-tooltip" data-placement="top" title="Details">
                      <a [routerLink] = "['./tagged', tag.value]">
                        {{ tag.value }}
                      </a>
                    </span>
                  </td>
                  <td>{{ tag.nodes.length }}</td>
                  <td>{{ tag.packs.length }}</td>
                  <td>{{ tag.queries.length }}</td>
                  <td style="text-align: center;">
                    <button (click)="deleteTag($event)" value="{{tag.value}}" class="btn btn-outline-danger btn-sm" data-skin="dark" data-toggle="kt-tooltip" data-placement="top" title="Delete Tag">
                      Delete
                    </button>
                  </td>
                </tr>
              </tbody>
           
            </table>
            <div  *ngIf="tags_data?.length == 0">
              <span style=" text-align: center; padding-left: 450px;font-size: larger;font-weight: 600;">
               {{this.errorMessage}}
              </span>
            </div>
            <!--end: Datatable -->
          </div>
          <!-- <div class="" *ngIf="tags_data?.length == 0">
            <p class="txt-clr">No tags created. You may create new tags.</p>
          </div> -->
        </div>
      </div>
      <!-- end:: Portlet/Tag -->
    </div>
  </div>
</div>
